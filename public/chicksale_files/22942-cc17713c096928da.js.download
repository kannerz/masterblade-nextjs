"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22942],{48518:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r=n(30983),i=n(91567),a=n(11856),o=n(98319),l=n(81748),c=n(26248),s=n(41392),u=n(56057),d=n.n(u),m=n(38955),p=n(26327),v=n(13044),f=n(63897),g=n(79926),b=n(42661),h=e=>{var{onSendMessage:t,adDetail:n,uniqueId:r,adCardGtmTracking:i,customGtmVariables:a}=e,o=(0,c.aF)(),{handleChatViewTracking:l}=(0,f.Z)(r);return(0,m.useEffect)(()=>{l({ad:n.ad,customGtmVariables:a,gtm:i,user:o})},[i,n,a,l,o]),m.createElement("div",null,m.createElement(g.Z,{className:"mb-lg",imageUrl:(0,b.Fc)(n.ad,"thumb"),price:n.ad.price,title:n.ad.title}),m.createElement(v.Z,{adDetail:n,onSendMessage:t}))},E=n(33452),w=d()(()=>n.e(84581).then(n.bind(n,84581)),{loadableGenerated:{webpack:()=>[84581]}}),Z=p.ZP.div.withConfig({componentId:"sc-1emikec-0"})(["align-items:center;display:flex;justify-content:center;min-height:180px;"]),I=e=>{var{adCardGtmTracking:t,adCardPixelTracking:n,adId:u,customGtmVariables:d,onClose:p,pageType:v,uniqueId:f}=e,{0:g,1:b}=(0,m.useState)(),{handleRedirectChatPage:I,messageStatus:y,onSendQuickChat:O}=(0,E.Z)(f),P=(0,c.aF)(),k=(0,s.Z)(),C=(0,m.useCallback)((0,r.Z)(function*(){var e={};P&&(e={memberId:P.memberId,privateToken:P.ac}),b((yield(0,i.Z)(u,e)))}),[u,P]);(0,m.useEffect)(()=>{C()},[C]);var _=(0,m.useCallback)((e,r)=>{g&&O(g.ad,n,g,e,v,r,p,t,d)},[g,O,n,v,p,d,t]),j=k?"small":"medium";return g?"SENDING"===y?null:"SENT"===y?m.createElement(w,{onClose:p,onConfirm:()=>I(g.ad,P)}):m.createElement(o.default,{onClose:p,scale:j,title:"แชทหาผู้ขาย"},m.createElement(h,{adCardGtmTracking:t,adDetail:g,onSendMessage:_,uniqueId:f})):m.createElement(o.default,{onClose:p,scale:j,title:"แชทหาผู้ขาย"},m.createElement(Z,null,m.createElement(a.Z,{color:l.wL.SD025,size:"8px"})))}},13044:function(e,t,n){var r=n(57496),i=n(76502),a=n(64001),o=n(81748),l=n(38955),c=n(26327),s=n(29850),u=c.ZP.div.withConfig({componentId:"sc-owv5js-0"})(["margin-bottom:",";"],o.Ki.Small),d=(0,c.ZP)(s.Z).withConfig({componentId:"sc-owv5js-1"})(["height:auto;padding:0;"]),m=c.ZP.form.withConfig({componentId:"sc-owv5js-2"})(["display:grid;grid-gap:",";@media ","{grid-gap:",";grid-template-columns:1fr 100px;}"],o.Ki.Medium,a.Zk,o.Ki.Small),p=e=>{var{onSendMessage:t,adDetail:n,isDisabled:a=!1}=e,{0:o,1:c}=(0,l.useState)(""),s=e=>{e.preventDefault(),t(o,!1),c("")};return l.createElement("div",null,l.createElement(u,null,l.createElement(d,{chatMacro:n.supplementary.chatMacro,isDisabled:a,onChat:e=>t(e,!0)})),l.createElement(m,{onSubmit:s},l.createElement(i.Z,{"data-testid":"quick-chat-message-input",fullWidth:!0,onChange:e=>c(e.target.value),placeholder:"พิมพ์ข้อความ",value:o}),l.createElement(r.ZP,{disabled:!o||a,fullWidth:!0,type:"submit"},"ส่ง")))};t.Z=p},79926:function(e,t,n){var r=n(36502),i=n(38955),a=n(27776),o=e=>{var{imageUrl:t,title:n,price:o,className:l}=e;return i.createElement("div",{className:(0,r.Z)("flex gap-sm",l)},i.createElement("img",{alt:n,className:"h-4xl shrink-0 rounded-sm object-cover",src:t}),i.createElement("div",null,i.createElement("div",{className:"text-body-4 text-sd100 line-clamp-2"},n),i.createElement("div",{className:"text-body-3 font-bold text-p100"},"฿ ",(0,a.Z)(o))))};t.Z=o},50019:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){var{lineId:t,adId:n}=e;return t.startsWith("@")?"https://line.me/R/oaMessage/".concat(t,"/").concat(encodeURIComponent("สวัสดี! ฉันสนใจรถคันนี้ที่ประกาศขายบน Kaidee Auto https://".concat(window.location.hostname,"/product-").concat(n))):"http://line.me/ti/p/~".concat(t)}},57588:function(e,t,n){n.d(t,{Z:function(){return P}});var r=n(68930),i=n(97301),a=n(95869),o=n(26248),l=n(41392),c=n(56057),s=n.n(c),u=n(38955),d=n(50019),m=n(5572),p=n(88951),v=e=>e&&(0,p.Z)(e),f=n(8361),g=n(72737),b=n(42444),h=(e,t)=>({ad_id:e.id,c:e.categoryId,mid:t,seller_id:e.memberId});function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Z=()=>{var e=(0,b.useRouter)(),t=(0,o.aF)(),n="1"===e.query.suggest?1:0,r=e.asPath.split("?")[0],i=(e,i,a)=>{var o=h(i,null==t?void 0:t.memberId);(0,g.Z)(w(w({},o),{},{component:"line",detail:e,et:"click",gt:"LINE_VIEW",index:a.index,page_source:a.pageSource,position:a.position,s:"contact",section:a.section,suggest:n,t:a.eventView,u:r}))},a=(e,i,a)=>{var o=h(i,null==t?void 0:t.memberId);(0,g.Z)(w(w({},o),{},{component:"line",detail:e,et:"click",gt:"LINE_LEAD",index:a.index,page_source:a.pageSource,position:a.position,s:"contact",section:a.section,suggest:n,t:a.eventClick,u:r}))};return{sendTrackingLineLead:a,sendTrackingLineView:i}};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O=s()(()=>Promise.all([n.e(32166),n.e(56995)]).then(n.bind(n,56995)),{ssr:!1,loadableGenerated:{webpack:()=>[56995]}});function P(e){var{ad:t,lineId:n,pixel:r,gtm:c}=e,{0:s,1:p}=(0,u.useState)(!1),{sendTrackingLineLead:g,sendTrackingLineView:b}=Z(),h=(0,m.Z)(i.V.KAIDEE_LINE_POP_UP.key),E=(0,u.useMemo)(()=>v(h),[h]),w=(0,o.aF)(),I=(0,l.Z)(),P=(0,u.useCallback)(()=>{a.Z.trigger("line_view",y(y(y({},(0,f.Z)({ad:t,userId:null==w?void 0:w.memberId})),E),c)),r.variables&&b(n,t,r.variables)},[t,E,c,n,r.variables,b,null==w?void 0:w.memberId]),k=(0,u.useCallback)(()=>{var e=(null==h?void 0:h.variantId)===i.V.KAIDEE_LINE_POP_UP.variantNumber;if(a.Z.trigger("line_lead",y(y({},(0,f.Z)({ad:t,userId:null==w?void 0:w.memberId})),c)),r.variables&&g(n,t,r.variables),I){var o=(0,d.Z)({adId:t.id,lineId:n});window.open(o)}e||p(!0)},[t,null==h?void 0:h.variantId,c,I,n,r.variables,g,null==w?void 0:w.memberId]),C=(0,u.useCallback)(()=>{I?k():p(!0)},[k,I]);return{UI:s?u.createElement(O,{ad:t,lineId:n,onClose:()=>p(!1),onSubmit:k,onView:P}):null,show:C,submit:k}}},29850:function(e,t,n){var r=n(63134),i=n(64001),a=n(81748),o=n(38955),l=n(26327),c=l.ZP.div.withConfig({componentId:"sc-dxq8fw-0"})(["display:flex;align-items:center;overflow-x:auto;padding:"," ",";@media ","{display:block;overflow:unset;height:auto;padding:unset;}"],a.Ki.Small,a.Ki.Medium,i.Zk),s=(0,l.ZP)(r.Z).withConfig({componentId:"sc-dxq8fw-1"})(["white-space:nowrap;margin-right:",";@media ","{margin-bottom:",";}"],a.Ki.Small,i.Zk,a.Ki.Small),u=e=>{var{chatMacro:t,className:n,isDisabled:r=!1,onChat:i}=e;return o.createElement(c,{className:n},t.map((e,t)=>o.createElement(s,{key:t,colorPalette:"secondary","data-tracking-element":"click-chat-macro",disabled:r,mode:"contained",onClick(){i(e)},scale:"medium",text:e})))};t.Z=u},5572:function(e,t,n){var r=n(69986),i=n(38955),a=e=>{var{experimentData:t}=(0,i.useContext)(r.Z);if(e){var n=t[e];return{experimentId:e,variantId:n}}};t.Z=a},27776:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{return e.toLocaleString(void 0,{maximumFractionDigits:t,minimumFractionDigits:n})}catch(r){return"0"}}},42661:function(e,t,n){n.d(t,{Fc:function(){return l},G:function(){return a},UK:function(){return o},YX:function(){return s},c2:function(){return c},qg:function(){return i}});var r=n(44320),i=(e,t)=>e?e.sizes.tmp?e.sizes.tmp:e.sizes[t]:{link:"",resolution:{height:0,width:0}},a=(e,t)=>e?e.sizes.tmp?e.sizes.tmp:e.sizes[t]:{link:"",resolution:{height:0,width:0}},o=(e,t)=>{if(null!=e&&e.sizes.tmp)return e.sizes.tmp.link;var n=null==e?void 0:e.sizes[t];return n?n.link:(0,r.Z)("AD_PLACEHOLDER_IMG")},l=(e,t)=>{var n=null==e?void 0:e.images[0];return n?o(n,t):(0,r.Z)("AD_PLACEHOLDER_IMG")},c=e=>{var t=e.tmp?e.tmp.link:(0,r.Z)("AD_PLACEHOLDER_IMG");if(!e.large)return{h:0,msrc:t,src:t,w:0};var n=e.large.link?e.large.link:t,i=e.large.resolution?e.large.resolution.width:0;return{h:e.large.resolution?e.large.resolution.height:0,msrc:n,src:n,w:i}};function s(e){return e<=76800?"large":"medium"}},88951:function(e,t){var n=e=>({gaExpId:e.experimentId,gaExpVar:e.variantId});t.Z=n},97301:function(e,t,n){n.d(t,{V:function(){return r}});var r={KAIDEE_LINE_POP_UP:{allocation:[75,25],endDate:"",key:"FSswBLtgQEG11_ImyPrIvw",variantNumber:"1"}}}}]);