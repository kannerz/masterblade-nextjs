"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[65998],{65998:function(e,r,t){t.d(r,{Z:function(){return T}});var i=t(88095),n=t(76502),o=t(22260),a=t(64001),c=t(81748),s=t(71123),l=t(14142),u=t(26248),d=t(41392),p=t(99388),v=t(60131),y=t(56057),g=t.n(y),f=t(38955),m=t(86864),b=t(26327),O=t(68930),_=t(26018),h=t(85576),I=t(78572),w=t(61535),E=t(11748),P=t(34204);function S(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function j(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?S(Object(t),!0).forEach(function(r){(0,O.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var Z=(e,r)=>{if(""===r)return e;var t=e.filter(e=>e.keyword!==r);for(t.unshift({keyword:r});t.length>10;)t.pop();return t},k=()=>{var e=(0,u.aF)(),r=(0,u.Rp)(),t=(0,_.Z)(),i=(0,w.Z)(t.c||0),n=r.keyword.trim(),o=(0,I.C2)(),a=(0,m.I0)(),c=()=>{var c=j(j({},t),{},{criteriaId:void 0,page:1,q:n});!function(e){var r,t,i,n,o,{searchKeyword:a,user:c,selection:s,selectedCategory:l,suggestion:u=[]}=e,d=null!==(r=null==c?void 0:c.memberId)&&void 0!==r?r:0,p="",v=u[0];v&&(p=null!==(o=v.criteria.q)&&void 0!==o?o:a),(0,P.Z)({categoryId:null!==(t=null==l?void 0:l.id)&&void 0!==t?t:0,keyword:a||"",memberId:d,referer:null!==(i=null===(n=window)||void 0===n?void 0:n.location.href)&&void 0!==i?i:"",selection:s?JSON.stringify((0,E.F)(s)):"",suggestion:u.length?JSON.stringify((0,E.q)(u)):"",transaction:P.z.SearchSubmit,typedKeyword:p})}({searchKeyword:n,selectedCategory:i,selection:void 0,suggestion:r.suggestions,user:e}),a((0,p.q3)({keyword:n})),a((0,v.oy)(!1));var s=Z(r.histories,n);(0,h.CJ)(s),a((0,p.cn)({histories:s})),o({page:"/browse",params:c})};return{searchSubmit:c}},D=g()(()=>t.e(17273).then(t.bind(t,17273)),{loadableGenerated:{webpack:()=>[17273]}}),A=(0,b.ZP)(n.Z).withConfig({componentId:"sc-o97iu8-0"})(["width:100%;&&&{padding-right:",";text-overflow:ellipsis;border:",";@media ","{background-color:",";border:",";}}"],e=>e.displayClearTextButton?"4.5rem":"2rem",e=>e.fromSearchBox&&"1px solid ".concat(c.wL.P025),a.Zk,e=>e.hasBackground&&"".concat(c.wL.SL125),e=>e.hasBackground?"1px solid ".concat(c.wL.SL125):"1px solid ".concat(c.wL.P025)),R=(0,b.ZP)(o.Z).withConfig({componentId:"sc-o97iu8-1"})(["display:flex;align-items:center;width:100%;margin-right:0px;"]),q=b.ZP.div.withConfig({componentId:"sc-o97iu8-2"})(["position:relative;width:100%;"]),C=b.ZP.div.withConfig({componentId:"sc-o97iu8-3"})(["display:flex;position:absolute;top:calc(50% - 16px);right:",";"],c.Ki.Medium),T=e=>{var{scale:r="medium",placeholder:t="คำค้นหา",fromSearchBox:n=!1,isFocus:o=!1,hasBackground:a=!1,id:c,onClick:y}=e,g=(0,m.I0)(),{searchSubmit:b}=k(),O=()=>{y?y():g((0,v.oy)(!0))},_=e=>{g((0,p.q3)({keyword:e.currentTarget.value}))},h=()=>{g((0,p.q3)({keyword:""})),g((0,v.oy)(!0))},I=()=>{b()},w=e=>{"Enter"===e.key&&b()},E=(0,d.Z)(),P=(0,u.Rp)(),S=Boolean(P.keyword);return f.createElement(R,null,f.createElement(q,null,f.createElement(A,{"aria-label":t,autoComplete:"off",autoFocus:o,"data-testid":"search-input-text-box",displayClearTextButton:S,fromSearchBox:n,hasBackground:a,id:c,name:"q",onChange:_,onClick:O,onKeyPress:w,placeholder:t,scale:r,type:"search",value:P.keyword}),f.createElement(C,null,S&&f.createElement(i.Z,{"aria-label":"clear-button",colorPalette:"primary",icon:s.Z,onClick:h,scale:"small"}),f.createElement(i.Z,{"aria-label":"search-button",colorPalette:"primary",icon:l.Z,onClick:I,scale:"small"})),(!E||n)&&f.createElement(D,{scale:r})))}},11748:function(e,r,t){t.d(r,{F:function(){return i},q:function(){return n}});var i=e=>{var r=e.criteria.attributes?e.criteria.attributes.map(e=>{var r,t;return{attr_name:e.name,attr_value:null!==(r=null===(t=e.value)||void 0===t?void 0:t.toString())&&void 0!==r?r:""}}):[];return{attributes:r,cate_id:e.criteria.categoryId?String(e.criteria.categoryId):"",district_ids:e.criteria.districtIds?e.criteria.districtIds.join(", "):"",province_ids:e.criteria.provinceIds?e.criteria.provinceIds.join(", "):"",suggest:e.criteria.q?e.criteria.q:""}},n=e=>({items:e.map(e=>i(e))})},34204:function(e,r,t){t.d(r,{Z:function(){return a},z:function(){return n}});var i,n,o=t(72737);function a(e){var{memberId:r,transaction:t,categoryId:i,keyword:n,referer:a,suggestion:c,selection:s,typedKeyword:l}=e;(0,o.Z)({c:i,et:"click",mid:r,q:n,referer:a,s:"enga.header",search_suggest:c,select_suggest:s,t:t,typed_q:l})}(i=n||(n={})).BaanKaidee="BAAN_KAIDEE",i.Chat="CHAT",i.CriteriaList="CRITERIA_LIST",i.EditProfile="EDIT_PROFILE",i.FarmKaidee="FARM_KAIDEE",i.FavoriteAdPage="FAVORITE_AD_PAGE",i.Help="HELP",i.HistoryAds="HISTORY_ADS",i.Home="HOME",i.Login="LOGIN",i.Logout="LOGOUT",i.MocyKaidee="MOCY_KAIDEE",i.MyAdsOnline="MY_ADS_ONLINE",i.Noti="NOTI",i.OrderHistory="ORDER_HISTORY",i.OrderKaideeEgg="ORDER_KAIDEE_EGG",i.PostSubmit="POST_SUBMIT",i.PreSearchSumbit="PRE_SEARCH_SUBMIT",i.Register="REGISTER",i.RelatedSearchSubmit="RELATED_SEARCH_SUBMIT",i.RodKaidee="ROD_KAIDEE",i.SearchSubmit="SEARCH_SUBMIT",i.Tips="TIPS"},18588:function(e,r,t){t.d(r,{lx:function(){return n},vk:function(){return i}});var i=["categoryId","attributeId","slug","page"];[...i];var n=["_escaped_fragment_","act","attribute1","attribute2","attribute3","attribute4","attribute5","bdr","btr","c_mem","car_type","cate_id","ccid","cid","cmem","color","criteria_id","dealership","displaymode","distance_end","distance_start","districtId","districts","do","end_price","fgtp","filter","fuel","gas","gclid","group_by_year","id","inspection_report","is_kd_pay","isclosed","item_id","item_type","itemrecc_2","itemrecc_3","itemrecc","latlong","limit","mid","mileage_end","mileage_start","modal","nitemID","nuserID","o","p","page","preurl","price_start","provinces","psnid","q","quality","sd","searchFrom","select","selectOrder","seller_name","sort","sortby","st","start_price","sub_car_type","surl","tab","tier","tpge","transmission","version","vertical","view","x","xtor","y","year_end","year_start","year"];[...n]},26018:function(e,r,t){var i=t(24647),n=t(42444),o=t(38955),a=e=>{var r=(0,n.useRouter)();return(0,o.useMemo)(()=>(null==e?void 0:e.from)==="query"?(0,i.Q9)(r.query):(0,i.Qw)(r.asPath),[null==e?void 0:e.from,r.asPath,r.query])};r.Z=a},24647:function(e,r,t){t.d(r,{Qw:function(){return k},Q9:function(){return D}});var i=t(66647),n=t(68930),o=t(84648),a=t(67767),c=t(18588),s=t(87712),l=t(25384),u=t(60713),d=t(44065);function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var y=(e,r,t)=>e.includes(r)?t.replace(/,/g,""):t,g=e=>Array.isArray(e)?e:e.replace(/\//g,""),f=["car_type"],m=e=>Object.entries(e).reduce((e,r)=>{var[t,i]=r;if("string"!=typeof i)return e;var n=y(["price_start","price_end"],t,i);return f.includes(t)||(n=n.includes(",")?n.split(","):n),n=g(n),v(v({},e),{},{[t]:n})},{}),b=["attributeId","car_year","categoryId","districtId","districts","page","provinceId","provinces","q","themeSlug","slug"];function O(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function _(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?O(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var h=/\/c([0-9]+)/,I=/^[^?]+(?:c\d+|categories\/)a([0-9]+)/,w=/^[^?-]+p([0-9]+)/,E=/^[^?]+dst([0-9]+)/,P=/^[^?]+p-([0-9]+)/,S=e=>{var r=a.exclude(e,c.vk),t=(0,l.Z)(r),i=a.parse(t,{arrayFormat:"comma"});return i.q&&Array.isArray(i.q)&&(i.q=i.q.join("")),i},j=(e,r)=>{if("string"==typeof e)throw Error("Invalid locations value ".concat(e));return e?e.filter(o.Z).map(e=>parseInt(e)):r?[r]:void 0},Z=e=>{if("string"==typeof e)return parseInt(e)};function k(e){var r,t,i,n,o,a,c,s,l,u,[d]=e.split("?"),p=e.match(h);p&&(a=parseInt(null!==(r=p[1])&&void 0!==r?r:""));var v=null==d?void 0:d.match(I);v&&(c=parseInt(null!==(t=v[1])&&void 0!==t?t:""));var y=null==d?void 0:d.match(w);y&&(s=parseInt(null!==(i=y[1])&&void 0!==i?i:""));var g=null==d?void 0:d.match(E);g&&(l=parseInt(null!==(n=g[1])&&void 0!==n?n:""));var f=e.match(P);f&&(u=parseInt(null!==(o=f[1])&&void 0!==o?o:""));var m=S(e),b=j(m.districts,l),O=j(m.provinces,s),k=Z(m.condition);return _(_({},m),{},{a:c,c:a,condition:k,dst:b,p:O,page:u||1})}var D=e=>{var{attributeId:r,car_year:t,categoryId:n,districtId:o,districts:a,page:c,provinceId:l,provinces:p,q:v,themeSlug:y,slug:g}=e,f=(0,i.Z)(e,b),O=l?Number((0,d.Z)(l)):void 0,h=j(p?(0,d.Z)(p).split(","):void 0,O),I=o?Number((0,d.Z)(o)):void 0,w=j(a?(0,d.Z)(a).split(","):void 0,I),E="string"!=typeof t?{}:/^(19|20)\d{2}$/.test(t)?{year_end:t,year_start:t}:{},P=m(f);return(0,s.Z)(_(_(_({},P),E),{},{a:r?Number((0,d.Z)(r)):void 0,c:n?Number((0,d.Z)(n)):void 0,dst:w,p:h,page:(0,u.Z)(c),q:v?(0,d.Z)(v):void 0,theme:y?(0,d.Z)(y):void 0}))}},60713:function(e,r){var t=e=>e&&"string"==typeof e&&/^\d+$/.test(e)?parseInt(e):1;r.Z=t}}]);